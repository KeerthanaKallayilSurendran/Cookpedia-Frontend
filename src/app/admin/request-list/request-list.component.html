<div class="me-5">
  <div class="row">
    <div class="col-lg-2">
      <app-sidebar></app-sidebar>
    </div>
    <div class="col-lg-10">
      <h1>All Client Feedback Request</h1>
      <table class="table my-5 auto">
        <thead>
          <tr>
            <th>#</th>
            <th>Username</th>
            <th>E-mail</th>
            <th>Feedback</th>
            <th>Action / Status</th>
          </tr>
        </thead>
        <tbody>
          @for (feedback of allFeedbacks; track $index; let i = $index) {
          <tr>
            <td>{{ i + 1 }}</td>
            <td>{{ feedback.name }}</td>
            <td>{{ feedback.email }}</td>
            <td>{{ feedback.message }}</td>
            <td>
              @if (feedback.status == 'Pending') {
              <div class="d-flex">
                <button (click)="updateFeedback(feedback._id, 'Approved')" class="btn btn-success">
                  <i class="fa-solid fa-check"></i>
                </button>
                <button  (click)="updateFeedback(feedback._id, 'Rejected')" class="btn btn-danger ms-2">
                  <i class="fa-solid fa-x"></i>
                </button>
              </div>
              }@else if (feedback.status == 'Approved') {
                <button class="btn btn-success">Approved </button>
              }@else {
                <button class="btn btn-danger">Rejected </button>
              }
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
